

	<div class="row">
		<div class="col-xs-12 col-sm-7"><h1 trns>MANAGE USERS</h1></div>
		<div class="col-xs-12 col-sm-5 add-level-button-group">
			<button type="button" class="btn admin-button far-right admin-button-large" *ngIf="_global.loggedInUser.role.rank <= minToChangeTeam && !unassignedManager" (click)="creatUser()" trns>Add a User</button>		
		</div>		
	</div>

<accordion>	
	
		<accordion-group (onOpen)=loadUsers(role.rank,i)  *ngFor="let role of roles; let i = index">		
            <accordion-heading>
                <div class="row">
                    <accordion-toggle>
                        <a>
                            <div class="col-xs-8 col-sm-10">
                                <span class="order-section-title">{{role.name}}</span>
                            </div>
                        </a>
                    </accordion-toggle>
                    
                </div>
            </accordion-heading>
			<div class="order-content">
				<div ng-if="users[i].length > 0" style="float:right;margin-bottom:6px;font-size:16px">
					<button type="button" class="btn order-button-small" (click)="onBtExport('u')" data-toggle="modal" data-target="#reportsettings"><i class="fa fa-download" aria-hidden="true"></i> </button>
					<button class="btn order-button-small" (click)="sizeToFit('u')"><i class="fa fa-columns" aria-hidden="true"></i> </button>
					<button class="btn order-button-small" (click)="autoSizeAll('u')"><i class="fa fa-compress" aria-hidden="true"></i> </button>
					<button class="btn order-button-small" (click)="openModal('reportModal')" ><i class="fa fa-question-circle" aria-hidden="true"></i> </button>
				</div>
				<div style="clear:both"></div>
				<img src="/Content/img/spiffygif_30x30.gif" style="text-align: center" *ngIf="loadingUsers[i]" />
				
				<div *ngIf="!loadingUsers[i] ">
					<!--&& !erroredRoles[i]-->
					<p *ngIf="users[i].length == 0" trns>There are no {{role.name}}s in this company.</p>
					
					<!--// items bound to properties on the controller-->

					
						<div *ngIf="users[i].length>0">					
						<ag-grid-angular #agGrid style="width: 100%; height: 350px;" class="ag-fresh"
						[gridOptions]="userGridOptions"	>
						</ag-grid-angular>
						</div>
				
					<div *ngIf="!loadingUsers[i] && erroredRoles[i].error" class="alert alert-danger">Error loading users</div>
					<br />
					<!--Toggle Inactive Users-->
					<div ng-if="users[i].length > 0">
						<button type="button" *ngIf="!showInactiveUsers" class="btn admin-button" (click)="toggleInactiveUsers(i)" trns>Show Inactive Users</button>
						<button type="button"*ngIf="showInactiveUsers" class="btn admin-button" ng-(click)="toggleInactiveUsers(i)" trns>Hide Inactive Users</button>
					</div>
				</div>
			</div> 
		
		</accordion-group>
</accordion>

<div class="modal fade" bsModal #reportModal="bs-modal" 
     tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title pull-left">Report Help</h4>

                <button type="button" class="close pull-right" aria-label="Close" (click)="closeModal()">
                    <span aria-hidden="true">&times;</span>
                </button>
                <div style="margin-bottom:8px"></div>
            </div>
            <div class="modal-body">
                <h3>Export Data</h3>
                Export data by clicking the export button above the search results. The data will be exported in a CSV format.
                <br /><br />

                <strong>When exporting data notice the following: </strong>
                <ul>
                    <li>Filtered rows are not included in the export.</li>
                    <li>The sort order is maintained in the export.</li>
                    <li>The order of the columns is maintained in the export.</li>
                </ul>

                <div ng-show="!filters.MapType">
                    <hr />

                    <h3>Resize Columns</h3>
                    Just like Excel, each column can be 'auto resized' by double clicking the right side of the header rather than dragging it. When you do this, the grid will work out the best width to fit the contents of the cells in the column.
                    <hr />

                    <h3>Pin Columns</h3>
                    Pin a column by dragging the column to the left or right. The grid will reorder the columns so that 'left pinned' columns come first and 'right pinned' columns come last
                    <hr />

                    <h3>Reorder Columns</h3>
                    Reorder columns by dragging the header name to either the left or right.
                    <hr />

                    <h3>Sort Columns</h3>
                    Sort a column by clicking on the column header. To do multi-column sorting, hold down shift while clicking the column header.
                    <hr />

                    <h3>Filter Columns</h3>
                    Filter columns by clicking the <i class="fa fa-bars"></i> icon when hovering over a header column. You can filter data based on different conditional statements. When a filter is active on a column, the filter icon appears before the column name in the header.
                </div>
            </div>
        </div>
    </div>
</div>














	
