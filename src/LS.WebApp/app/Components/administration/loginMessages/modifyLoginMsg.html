<img src="/Content/img/spiffygif_30x30.gif" style="text-align:center" [hidden]="!loading" />
<div *ngIf="message">
	﻿<h1>ADD/EDIT Message</h1>
	<div *ngIf="_global.loggedInUser && !loading && message">

		<form role="form" class="form-horizontal" name="modifyMessageForm">
			<div class="form-group">
				<label class="col-sm-3 control-label">Title*</label>
				<div class="col-sm-5">
					<input type="text" class="form-control" [(ngModel)]="message.title" name="title" required>

					<!--<div class="alert alert-danger" role="alert" *ngIf="modifyMessageForm.title.$error.required && modifyMessageForm.title.$dirty">
						{{errorMessage.invalidTitle}}
					</div>-->
				</div>
			</div>


	<div class="form-group">
		<label class="col-sm-3 control-label" >Message*</label>
		<div class="col-sm-5">
			
			<textarea style="width:100%" rows="5" [(ngModel)]="message.msg" name="msg"></textarea>

		</div>
	</div>
			<div class="form-group">
		<label class="col-sm-3 control-label" >Start Date*</label>
		<div class="col-sm-5">
			<my-date-picker name="mydate" [options]="myDatePickerOptions"
							[(ngModel)]="message.beginDate"
							required
							typeof="date">
							
			</my-date-picker>
			<!--<div class="alert alert-danger" role="alert" *ngIf="modifyMessageForm.beginDate.$error.required && modifyMessageForm.beginDate.$dirty">
			{{errorMessage.invalidStartDate}}
		</div>-->
			</div>
	</div>
			<!--<div class="form-group">
		<label class="col-sm-3 control-label" >End Date*</label>
		<div class="col-sm-5">

			<input type="text" class="form-control" name="endDate" [(ngModel)]="message.expirationDate" jquerydatepicker date-picker="message.expirationDate" required />
			<div class="alert alert-danger" role="alert" *ngIf="modifyMessageForm.endDate.$error.required && modifyMessageForm.endDate.$dirty">
				{{errorMessage.invalidendDate}}
			</div>
		</div>
	</div>
	<div class="form-group">
		<label class="col-sm-3 control-label" >Importance Level*</label>
		<div class="col-sm-5">

			<select class="form-control"
					[(ngModel)]="message.msgLevel"
					name="level"
					required>
				<option value=''>- Select Level -</option>
				<option *ngFor="let level of levels" [value]="level.id" >{{level.name}}</option>
			</select>

			<!--<div class="alert alert-danger" role="alert"
				 *ngIf="modifyMessageForm.level.$error.required && modifyMessageForm.level.$dirty">
				{{errorMessage.invalidLevel}}
			</div>-->
			<!--</div>
	</div>-->


	<div class="form-group">
		<label class="col-sm-3 control-label" >
			Active
		</label>
		<div class="col-sm-5">
			<input name="active" type="checkbox" class="horizontal-input"
				   [(ngModel)]="message.active" />
		</div>
	</div>
	<br />
	<button type="submit" (click)="submitMessage(createOrModify)" class="btn admin-button" >SUBMIT</button>

	<button type="button" [disabled]="!hasLoaded"(click)="goBack()" class="btn cancel-button" >CANCEL</button>

	<button type="button" [disabled]="!hasLoaded" (click)="deleteMessage(message.id)" class="btn generic-button" *ngIf="createOrModify== _constants.modify" >DELETE</button>
	</form>
</div>
	</div>



